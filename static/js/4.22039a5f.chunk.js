(this.webpackJsonpreactfirst=this.webpackJsonpreactfirst||[]).push([[4],{102:function(t,e,n){t.exports={content:"Profile_content__2Cjlo",avatar:"Profile_avatar__3KvEA",button:"Profile_button__2Jf75",preloader:"Profile_preloader__2r1O_",relative:"Profile_relative__1sS5I",uploader:"Profile_uploader__3SQ2a",label:"Profile_label__1_70v"}},103:function(t,e,n){t.exports={posts:"Posts_posts__3zZvH",input:"Posts_input__3RPu3",button:"Posts_button__ZY0o0"}},104:function(t,e,n){t.exports={dim:"Contact_dim__3MXFq",item:"Contact_item__IbT8_",contact:"Contact_contact__3kqcu"}},105:function(t,e,n){t.exports={post:"Post_post__cPpnL",icon:"Post_icon__2wa42",colored:"Post_colored__L6Ymk",name:"Post_name__17iOu",date:"Post_date__2B6Bi",content:"Post_content__My5Os",likes:"Post_likes__rDZm5",likes_text:"Post_likes_text__1dPWY",likes_count:"Post_likes_count__lkmzQ",ava:"Post_ava__275zw",hr:"Post_hr__ukW_T"}},109:function(t,e,n){"use strict";n.r(e);var a=n(2),s=n(1),c=n(0),o=n(17),i=n(102),r=n.n(i),l=n(103),u=n.n(l),j=n(89),b=n(91),d=function(t){return Object(s.jsx)(j.b,{onSubmit:function(e,n){t.addPost(e.postText,t.login),e.postText=""},render:function(t){var e=t.handleSubmit;return Object(s.jsxs)("form",{onSubmit:e,children:[Object(s.jsx)(j.a,{validate:b.b,name:"postText",component:"textarea",placeholder:"What's new?",className:u.a.input}),Object(s.jsx)("button",{className:u.a.button,children:"Add post"})]})}})},f=function(t){return Object(s.jsxs)("div",{className:u.a.posts,children:[Object(s.jsx)("div",{children:Object(s.jsx)(d,{login:t.login,addPost:t.addPost})}),t.postsData]})},m=n(29),p=n(14),_=n(13);var O=n(36);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,s=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(r){s=!0,c=r}finally{try{a||null==i.return||i.return()}finally{if(s)throw c}}return n}}(t,e)||Object(O.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=n(93),v=n.n(x),k=n(94),g=n.n(k),N=n(104),P=n.n(N),I=function(t){var e=t.link,n=t.title;return e?Object(s.jsxs)("p",{className:P.a.item,children:[Object(s.jsxs)("span",{className:P.a.dim,children:[n,":"]}),Object(s.jsx)("a",{href:e,className:P.a.contact,children:e})]}):Object(s.jsx)(s.Fragment,{})},D=function(t){return Object(s.jsxs)("div",{className:g.a.info,children:[Object(s.jsx)(I,{title:"vk",link:t.contacts.vk}),Object(s.jsx)(I,{title:"GitHub",link:t.contacts.github}),Object(s.jsx)(I,{title:"Facebook",link:t.contacts.facebook}),Object(s.jsx)(I,{title:"Instagram",link:t.contacts.instagram}),Object(s.jsx)(I,{title:"Twitter",link:t.contacts.twitter}),Object(s.jsx)(I,{title:"Youtube",link:t.contacts.youtube}),Object(s.jsx)(I,{title:"Main link",link:t.contacts.mainLink})]})},y=function(t){var e=h(Object(c.useState)(!1),2),n=e[0],a=e[1],o=function(){a(!0)},i=function(){a(!1)};return Object(s.jsxs)("div",{className:g.a.description,children:[Object(s.jsxs)("p",{className:g.a.item,children:[Object(s.jsx)("span",{className:g.a.dim,children:"About me:"}),Object(s.jsx)("span",{className:g.a.info,children:t.aboutMe})]}),Object(s.jsx)("p",{className:g.a.item,children:t.lookingForAJob?Object(s.jsxs)(s.Fragment,{children:[" ",Object(s.jsx)("span",{className:g.a.dim,children:"Looking for a:"}),Object(s.jsx)("span",{className:g.a.info,children:t.lookingForAJobDescription})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:g.a.dim,children:"Job:"}),Object(s.jsx)("span",{className:g.a.info,children:t.lookingForAJobDescription})]})}),n?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:i,className:g.a.button,children:"Hide contacts"}),Object(s.jsx)(D,{contacts:t.contacts})]}):Object(s.jsx)("button",{onClick:o,className:g.a.button,children:"Show contacts"})]})},S=function(t){return Object(s.jsxs)("div",{className:v.a.info,children:[Object(s.jsx)("div",{className:v.a.name,children:t.name}),t.status(),Object(s.jsx)(y,Object(a.a)({},t))]})},F=function(t){var e=h(Object(c.useState)(!1),2),n=e[0],o=e[1],i=h(Object(c.useState)(t.status),2),r=i[0],l=i[1],u=function(){o(!n),t.setNewStatus(r)},j=function(t){l(t.currentTarget.value)};Object(c.useEffect)((function(){var e=t.linkID||t.myID;t.getStatus(e)}),[]),Object(c.useEffect)((function(){l(t.status)}),[t.status]);return Object(s.jsx)(S,Object(a.a)(Object(a.a)({},t),{},{status:function(){if(!t.linkID||t.myID==t.linkID){if(n)return Object(s.jsx)("input",{className:v.a.input,autoFocus:!0,onBlur:u,value:r,onChange:j});if(r){if(r.length<50)return Object(s.jsx)("span",{onClick:u,className:"".concat(v.a.status,"  ").concat(v.a.hover),children:r});var e=r.slice(0,50)+"...";return Object(s.jsx)("span",{onClick:u,className:"".concat(v.a.status," ").concat(v.a.hover),children:e})}return Object(s.jsx)("span",{onClick:u,className:"".concat(v.a.status," ").concat(v.a.dim," ").concat(v.a.hover),children:"set status..."})}if(t.linkID){if(r){if(r.length<50)return Object(s.jsx)("span",{className:v.a.status,children:r});var a=a.slice(0,50)+"...";return Object(s.jsx)("span",{className:v.a.status,children:a})}return Object(s.jsx)("span",{className:"".concat(v.a.status," ").concat(v.a.dim),children:"no status"})}}}))},A=function(t){if(t.isFetching)return Object(s.jsx)("div",{className:r.a.preloader,children:Object(s.jsx)(m.a,{})});return Object(s.jsxs)("div",{className:r.a.content,children:[Object(s.jsxs)("div",{className:r.a.avatar,children:[Object(s.jsxs)("div",{className:r.a.relative,children:[Object(s.jsx)("img",{className:r.a.photo,src:t.photo||p.a,alt:""}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{className:r.a.label,children:[Object(s.jsx)("input",{className:r.a.uploader,onChange:function(e){t.uploadPhoto(e.target.files[0])},accept:"image/x-png,image/jpeg",type:"file"}),"upload photo"]})]}),!!t.linkID&&t.linkID!=t.myID||Object(s.jsx)(_.b,{to:"/edit",children:Object(s.jsx)("button",{className:r.a.button,children:"Edit"})})]}),Object(s.jsx)(F,{name:t.name,status:t.status,setNewStatus:t.setNewStatus,linkID:t.linkID,myID:t.myID,getStatus:t.getStatus,aboutMe:t.aboutMe,contacts:t.contacts,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription}),Object(s.jsx)(f,{postsData:t.postsData,postInputText:t.postInputText,addPost:t.addPost,updateText:t.updateText,login:t.login})]})},C=n(18),w=n(5),J=n(16),T=n(35),E=n(105),z=n.n(E),M=n.p+"static/media/like.665ede1a.svg",L=n.p+"static/media/like_active.120ab9c3.svg",q=function(t){var e=h(Object(c.useState)(t.likesCount),2),n=e[0],a=e[1],o=h(Object(c.useState)(!1),2),i=o[0],r=o[1],l=function(){a(i?function(t){return t-1}:function(t){return t+1}),r((function(t){return!t}))};return Object(s.jsxs)("div",{className:z.a.post,children:[Object(s.jsx)("div",{className:z.a.ava,children:Object(s.jsx)("img",{src:t.ava,alt:""})}),Object(s.jsx)("div",{className:z.a.name,children:Object(s.jsx)("a",{href:"#",children:t.name})}),Object(s.jsx)("div",{className:z.a.date,children:t.time}),Object(s.jsx)("div",{className:z.a.content,children:t.content}),Object(s.jsx)("hr",{className:z.a.hr,noshade:!0,size:1,width:"99%"}),Object(s.jsxs)("div",{className:z.a.likes,children:[i?Object(s.jsx)("img",{onClick:l,className:z.a.icon,src:L,alt:""}):Object(s.jsx)("img",{onClick:l,className:"".concat(z.a.icon," ").concat(z.a.colored),src:M,alt:""}),Object(s.jsx)("span",{className:z.a.likes_count,children:n})]})]})},R=function(t){return t.profile.info.personInfo.name},W=function(t){return t.profile.info.personInfo.photo},Y=function(t){return t.profile.isFetching},B=function(t){return t.profile.info.status},H=function(t){return t.profile.info.personInfo.aboutMe},X=function(t){return t.profile.info.lookingForAJob},Z=function(t){return t.profile.info.lookingForAJobDescription},K=function(t){return t.profile.info.contacts},Q=Object(T.a)((function(t){return t.profile.posts.postsData}),(function(t){return t.map((function(t){return Object(s.jsx)(q,{name:t.name,time:t.date,content:t.content,likesCount:t.likesCount,ava:t.photo})}))})),V=n(19);e.default=Object(J.d)(Object(o.b)((function(t){return{name:R(t),photo:W(t),postsData:Q(t),myID:Object(V.d)(t),isFetching:Y(t),status:B(t),isAuthorized:Object(V.b)(t),login:Object(V.e)(t),aboutMe:H(t),lookingForAJob:X(t),lookingForAJobDescription:Z(t),contacts:K(t)}}),(function(t){return{setNewStatus:function(t){Object(C.f)(t)},getStatus:function(e){t(Object(C.e)(e))},setProfile:function(e){t(Object(C.g)(e))},addPost:function(e,n){t(Object(C.a)(e,n))},getProfile:function(e){t(Object(C.d)(e))},uploadPhoto:function(e){t(Object(C.h)(e))}}})),w.f)((function(t){var e=t.match.params.id||t.myID;return Object(c.useEffect)((function(){return t.getProfile(e)}),[]),Object(c.useEffect)((function(){return t.getProfile(e)}),[t.isAuthorized]),t.isAuthorized||t.match.params.id?Object(s.jsx)(A,Object(a.a)(Object(a.a)({},t),{},{linkID:t.match.params.id})):Object(s.jsx)(w.a,{to:"/auth"})}))},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var a=function(t){return t?t.includes("@")&&t.includes(".")?void 0:"Incorrect email":"Required"},s=function(t){return t?void 0:"Required"}},93:function(t,e,n){t.exports={info:"Info_info__1V-lO",name:"Info_name__3K6Rr",full:"Info_full__1WEPx",status:"Info_status__3d4Ns",input:"Info_input__3EnhC",hover:"Info_hover__12wJx",dim:"Info_dim__9y2JC"}},94:function(t,e,n){t.exports={description:"Description_description__1XXLp",dim:"Description_dim__VxhdC",item:"Description_item__2khgf",button:"Description_button__3yh1z"}}}]);
//# sourceMappingURL=4.22039a5f.chunk.js.map