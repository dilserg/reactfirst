(this.webpackJsonpreactfirst=this.webpackJsonpreactfirst||[]).push([[4],{102:function(t,e,n){t.exports={content:"Profile_content__2Cjlo",avatar:"Profile_avatar__3KvEA",button:"Profile_button__2Jf75",preloader:"Profile_preloader__2r1O_"}},103:function(t,e,n){t.exports={posts:"Posts_posts__3zZvH",input:"Posts_input__3RPu3",button:"Posts_button__ZY0o0"}},104:function(t,e,n){t.exports={dim:"Contact_dim__3MXFq",item:"Contact_item__IbT8_",contact:"Contact_contact__3kqcu"}},105:function(t,e,n){t.exports={post:"Post_post__cPpnL",icon:"Post_icon__2wa42",colored:"Post_colored__L6Ymk",name:"Post_name__17iOu",date:"Post_date__2B6Bi",content:"Post_content__My5Os",likes:"Post_likes__rDZm5",likes_text:"Post_likes_text__1dPWY",likes_count:"Post_likes_count__lkmzQ",ava:"Post_ava__275zw",hr:"Post_hr__ukW_T"}},109:function(t,e,n){"use strict";n.r(e);var s=n(2),a=n(1),c=n(0),i=n(17),o=n(102),r=n.n(o),u=n(103),l=n.n(u),j=n(89),b=n(91),d=function(t){return Object(a.jsx)(j.b,{onSubmit:function(e,n){t.addPost(e.postText,t.login),e.postText=""},render:function(t){var e=t.handleSubmit;return Object(a.jsxs)("form",{onSubmit:e,children:[Object(a.jsx)(j.a,{validate:b.b,name:"postText",component:"textarea",placeholder:"What's new?",className:l.a.input}),Object(a.jsx)("button",{className:l.a.button,children:"Add post"})]})}})},f=function(t){return Object(a.jsxs)("div",{className:l.a.posts,children:[Object(a.jsx)("div",{children:Object(a.jsx)(d,{login:t.login,addPost:t.addPost})}),t.postsData]})},m=n(26),_=n(14),O=n(13);var x=n(36);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],s=!0,a=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);s=!0);}catch(r){a=!0,c=r}finally{try{s||null==o.return||o.return()}finally{if(a)throw c}}return n}}(t,e)||Object(x.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=n(93),v=n.n(p),k=n(94),N=n.n(k),g=n(104),P=n.n(g),I=function(t){var e=t.link,n=t.title,s=e.length>30?e.slice(0,30)+"...":e;return e?Object(a.jsxs)("p",{className:P.a.item,children:[Object(a.jsxs)("span",{className:P.a.dim,children:[n,":"]}),Object(a.jsx)("a",{href:e,className:P.a.contact,children:s})]}):Object(a.jsx)(a.Fragment,{})},D=function(t){return Object(a.jsxs)("div",{className:N.a.info,children:[Object(a.jsx)(I,{title:"vk",link:"#"}),Object(a.jsx)(I,{title:"GitHub",link:"#"}),Object(a.jsx)(I,{title:"Facebook",link:"#"}),Object(a.jsx)(I,{title:"Instagram",link:"#"}),Object(a.jsx)(I,{title:"Twitter",link:"#"}),Object(a.jsx)(I,{title:"Website",link:"#"}),Object(a.jsx)(I,{title:"Youtube",link:"#"}),Object(a.jsx)(I,{title:"Mainlink",link:"#"})]})},y=function(t){var e=h(Object(c.useState)(!1),2),n=e[0],s=e[1],i=function(){s(!0)},o=function(){s(!1)};return Object(a.jsxs)("div",{className:N.a.description,children:[Object(a.jsx)("p",{className:N.a.item,children:t.isLookingForJob?Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsx)("span",{className:N.a.dim,children:"Looking for a:"}),Object(a.jsx)("span",{className:N.a.info,children:t.job})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:N.a.dim,children:"Job:"}),Object(a.jsx)("span",{className:N.a.info,children:t.job})]})}),n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:o,className:N.a.button,children:"Hide contacts"}),Object(a.jsx)(D,{})]}):Object(a.jsx)("button",{onClick:i,className:N.a.button,children:"Show contacts"})]})},S=function(t){return Object(a.jsxs)("div",{className:v.a.info,children:[Object(a.jsx)("div",{className:v.a.name,children:t.name}),t.status(),Object(a.jsx)(y,{})]})},C=function(t){var e=h(Object(c.useState)(!1),2),n=e[0],i=e[1],o=h(Object(c.useState)(t.status),2),r=o[0],u=o[1],l=function(){i(!n),t.setNewStatus(r)},j=function(t){u(t.currentTarget.value)};Object(c.useEffect)((function(){var e=t.linkID||t.myID;t.getStatus(e)}),[]),Object(c.useEffect)((function(){u(t.status)}),[t.status]);return Object(a.jsx)(S,Object(s.a)(Object(s.a)({},t),{},{status:function(){if(!t.linkID||t.myID==t.linkID){if(n)return Object(a.jsx)("input",{className:v.a.input,autoFocus:!0,onBlur:l,value:r,onChange:j});if(r){if(r.length<50)return Object(a.jsx)("span",{onClick:l,className:"".concat(v.a.status,"  ").concat(v.a.hover),children:r});var e=r.slice(0,50)+"...";return Object(a.jsx)("span",{onClick:l,className:"".concat(v.a.status," ").concat(v.a.hover),children:e})}return Object(a.jsx)("span",{onClick:l,className:"".concat(v.a.status," ").concat(v.a.dim," ").concat(v.a.hover),children:"set status..."})}if(t.linkID){if(r){if(r.length<50)return Object(a.jsx)("span",{className:v.a.status,children:r});var s=s.slice(0,50)+"...";return Object(a.jsx)("span",{className:v.a.status,children:s})}return Object(a.jsx)("span",{className:"".concat(v.a.status," ").concat(v.a.dim),children:"no status"})}}}))},w=function(t){return t.isFetching?Object(a.jsx)("div",{className:r.a.preloader,children:Object(a.jsx)(m.a,{})}):Object(a.jsxs)("div",{className:r.a.content,children:[Object(a.jsxs)("div",{className:r.a.avatar,children:[Object(a.jsx)("img",{src:t.photo||_.a,alt:""}),Object(a.jsx)("br",{}),Object(a.jsx)(O.b,{to:"/edit",children:Object(a.jsx)("button",{className:r.a.button,children:"Edit"})})]}),Object(a.jsx)(C,{name:t.name,status:t.status,setNewStatus:t.setNewStatus,linkID:t.linkID,myID:t.myID,getStatus:t.getStatus}),Object(a.jsx)(f,{postsData:t.postsData,postInputText:t.postInputText,addPost:t.addPost,updateText:t.updateText,login:t.login})]})},T=n(18),F=n(5),E=n(16),z=n(35),A=n(105),J=n.n(A),L=n.p+"static/media/like.665ede1a.svg",W=n.p+"static/media/like_active.120ab9c3.svg",q=function(t){var e=h(Object(c.useState)(t.likesCount),2),n=e[0],s=e[1],i=h(Object(c.useState)(!1),2),o=i[0],r=i[1],u=function(){s(o?function(t){return t-1}:function(t){return t+1}),r((function(t){return!t}))};return Object(a.jsxs)("div",{className:J.a.post,children:[Object(a.jsx)("div",{className:J.a.ava,children:Object(a.jsx)("img",{src:t.ava,alt:""})}),Object(a.jsx)("div",{className:J.a.name,children:Object(a.jsx)("a",{href:"#",children:t.name})}),Object(a.jsx)("div",{className:J.a.date,children:t.time}),Object(a.jsx)("div",{className:J.a.content,children:t.content}),Object(a.jsx)("hr",{className:J.a.hr,noshade:!0,size:1,width:"99%"}),Object(a.jsxs)("div",{className:J.a.likes,children:[o?Object(a.jsx)("img",{onClick:u,className:J.a.icon,src:W,alt:""}):Object(a.jsx)("img",{onClick:u,className:"".concat(J.a.icon," ").concat(J.a.colored),src:L,alt:""}),Object(a.jsx)("span",{className:J.a.likes_count,children:n})]})]})},R=function(t){return t.profile.info.personInfo.name},Y=function(t){return t.profile.info.personInfo.photo},B=function(t){return t.profile.isFetching},H=function(t){return t.profile.info.status},M=Object(z.a)((function(t){return t.profile.posts.postsData}),(function(t){return t.map((function(t){return Object(a.jsx)(q,{name:t.name,time:t.date,content:t.content,likesCount:t.likesCount,ava:t.photo})}))})),X=n(19);e.default=Object(E.d)(Object(i.b)((function(t){return{name:R(t),photo:Y(t),postsData:M(t),myID:Object(X.d)(t),isFetching:B(t),status:H(t),isAuthorized:Object(X.b)(t),login:Object(X.e)(t)}}),(function(t){return{setNewStatus:function(t){Object(T.f)(t)},getStatus:function(e){t(Object(T.e)(e))},setProfile:function(e){t(Object(T.g)(e))},addPost:function(e,n){t(Object(T.a)(e,n))},getProfile:function(e){t(Object(T.d)(e))}}})),F.f)((function(t){var e=t.match.params.id||t.myID;return Object(c.useEffect)((function(){return t.getProfile(e)}),[]),Object(c.useEffect)((function(){return t.getProfile(e)}),[t.isAuthorized]),t.isAuthorized||t.match.params.id?Object(a.jsx)(w,Object(s.a)(Object(s.a)({},t),{},{linkID:t.match.params.id})):Object(a.jsx)(F.a,{to:"/auth"})}))},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var s=function(t){return t?t.includes("@")&&t.includes(".")?void 0:"Incorrect email":"Required"},a=function(t){return t?void 0:"Required"}},93:function(t,e,n){t.exports={info:"Info_info__1V-lO",name:"Info_name__3K6Rr",full:"Info_full__1WEPx",status:"Info_status__3d4Ns",input:"Info_input__3EnhC",hover:"Info_hover__12wJx",dim:"Info_dim__9y2JC"}},94:function(t,e,n){t.exports={description:"Description_description__1XXLp",dim:"Description_dim__VxhdC",item:"Description_item__2khgf",info:"Description_info__xhxxC",button:"Description_button__3yh1z"}}}]);
//# sourceMappingURL=4.6ddc2859.chunk.js.map