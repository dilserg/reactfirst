(this.webpackJsonpreactfirst=this.webpackJsonpreactfirst||[]).push([[4],{106:function(t,e,n){t.exports={content:"Profile_content__2Cjlo",avatar:"Profile_avatar__3KvEA",button:"Profile_button__2Jf75",preloader:"Profile_preloader__2r1O_",relative:"Profile_relative__1sS5I",uploader:"Profile_uploader__3SQ2a",label:"Profile_label__1_70v"}},107:function(t,e,n){t.exports={posts:"Posts_posts__3zZvH",input:"Posts_input__3RPu3",button:"Posts_button__ZY0o0"}},108:function(t,e,n){t.exports={post:"Post_post__cPpnL",icon:"Post_icon__2wa42",colored:"Post_colored__L6Ymk",name:"Post_name__17iOu",date:"Post_date__2B6Bi",content:"Post_content__My5Os",likes:"Post_likes__rDZm5",likes_text:"Post_likes_text__1dPWY",likes_count:"Post_likes_count__lkmzQ",ava:"Post_ava__275zw",hr:"Post_hr__ukW_T",cross:"Post_cross__3h0Cp"}},109:function(t,e,n){t.exports={dim:"Contact_dim__3MXFq",item:"Contact_item__IbT8_",contact:"Contact_contact__3kqcu"}},113:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n(2),a=n(0),o=n(17),i=n(106),r=n.n(i),l=n(107),u=n.n(l),j=n(90),b=n(89);var d=n(36);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],c=!0,s=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(c=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);c=!0);}catch(r){s=!0,a=r}finally{try{c||null==i.return||i.return()}finally{if(s)throw a}}return n}}(t,e)||Object(d.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=n(108),p=n.n(m),_=n.p+"static/media/like.665ede1a.svg",O=n.p+"static/media/like_active.120ab9c3.svg",h=function(t){var e=f(Object(a.useState)(t.likesCount),2),n=e[0],c=e[1],o=f(Object(a.useState)(!1),2),i=o[0],r=o[1],l=function(){c(i?function(t){return t-1}:function(t){return t+1}),r((function(t){return!t}))};return Object(s.jsxs)("div",{className:p.a.post,children:[Object(s.jsx)("div",{className:p.a.ava,children:Object(s.jsx)("img",{src:t.ava,alt:""})}),Object(s.jsx)("div",{className:p.a.name,children:Object(s.jsx)("a",{href:"#",children:t.name})}),Object(s.jsx)("div",{className:p.a.date,children:t.time}),Object(s.jsx)("div",{className:p.a.content,children:t.content}),Object(s.jsx)("hr",{className:p.a.hr,noshade:!0,size:1,width:"99%"}),Object(s.jsxs)("div",{className:p.a.likes,children:[i?Object(s.jsx)("img",{onClick:l,className:p.a.icon,src:O,alt:""}):Object(s.jsx)("img",{onClick:l,className:"".concat(p.a.icon," ").concat(p.a.colored),src:_,alt:""}),Object(s.jsx)("span",{className:p.a.likes_count,children:n})]}),Object(s.jsx)("div",{onClick:function(){t.deletePost(t.id)},className:p.a.cross,children:"\u2716"})]})},x=function(t){return Object(s.jsx)(j.b,{onSubmit:function(e){t.addPost(e.postText,t.login),e.postText=""},render:function(t){var e=t.handleSubmit;return Object(s.jsxs)("form",{onSubmit:e,children:[Object(s.jsx)(j.a,{validate:b.b,name:"postText",component:"textarea",placeholder:"What's new?",className:u.a.input}),Object(s.jsx)("button",{className:u.a.button,children:"Add post"})]})}})},v=function(t){var e=t.postsData.map((function(e){return Object(s.jsx)(h,{name:e.name,id:e.postID,time:e.date,content:e.content,likesCount:e.likesCount,ava:e.photo,deletePost:t.deletePost},e.postID)}));return Object(s.jsxs)("div",{className:u.a.posts,children:[Object(s.jsx)("div",{children:Object(s.jsx)(x,{login:t.login,addPost:t.addPost})}),e]})},k=n(25),g=n(5),N=n(14),P=n(96),I=n.n(P),D=n(97),y=n.n(D),S=n(109),C=n.n(S),F=function(t){var e=t.link,n=t.title;return e?Object(s.jsxs)("p",{className:C.a.item,children:[Object(s.jsxs)("span",{className:C.a.dim,children:[n,":"]}),Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://".concat(e),className:C.a.contact,children:e})]}):Object(s.jsx)(s.Fragment,{})},A=function(t){return Object(s.jsxs)("div",{className:y.a.info,children:[Object(s.jsx)(F,{title:"vk",link:t.contacts.vk}),Object(s.jsx)(F,{title:"GitHub",link:t.contacts.github}),Object(s.jsx)(F,{title:"Facebook",link:t.contacts.facebook}),Object(s.jsx)(F,{title:"Instagram",link:t.contacts.instagram}),Object(s.jsx)(F,{title:"Twitter",link:t.contacts.twitter}),Object(s.jsx)(F,{title:"Youtube",link:t.contacts.youtube}),Object(s.jsx)(F,{title:"Main link",link:t.contacts.mainLink})]})},w=function(t){var e=f(Object(a.useState)(!1),2),n=e[0],c=e[1],o=function(){c(!0)},i=function(){c(!1)};return Object(s.jsxs)("div",{className:y.a.description,children:[Object(s.jsxs)("p",{className:y.a.item,children:[Object(s.jsx)("span",{className:y.a.dim,children:"About me:"}),Object(s.jsx)("span",{className:y.a.info,children:t.aboutMe})]}),Object(s.jsx)("p",{className:y.a.item,children:t.lookingForAJob?Object(s.jsxs)(s.Fragment,{children:[" ",Object(s.jsx)("span",{className:y.a.dim,children:"Looking for a:"}),Object(s.jsx)("span",{className:y.a.info,children:t.lookingForAJobDescription})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:y.a.dim,children:"Job:"}),Object(s.jsx)("span",{className:y.a.info,children:t.lookingForAJobDescription})]})}),n?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:i,className:y.a.button,children:"Hide contacts"}),Object(s.jsx)(A,{contacts:t.contacts})]}):Object(s.jsx)("button",{onClick:o,className:y.a.button,children:"Show contacts"})]})},J=function(t){return Object(s.jsxs)("div",{className:I.a.info,children:[Object(s.jsx)("div",{className:I.a.name,children:t.name}),t.status(),Object(s.jsx)(w,Object(c.a)({},t))]})},T=function(t){var e=f(Object(a.useState)(!1),2),n=e[0],o=e[1],i=f(Object(a.useState)(t.status),2),r=i[0],l=i[1],u=function(){o(!n),t.setNewStatus(r)},j=function(t){l(t.currentTarget.value)};Object(a.useEffect)((function(){var e=t.linkID||t.myID;t.getStatus(e)}),[]),Object(a.useEffect)((function(){l(t.status)}),[t.status]);return Object(s.jsx)(J,Object(c.a)(Object(c.a)({},t),{},{status:function(){if(!t.linkID||t.myID==t.linkID){if(n)return Object(s.jsx)("input",{className:I.a.input,autoFocus:!0,onBlur:u,value:r,onChange:j});if(r){if(r.length<50)return Object(s.jsx)("span",{onClick:u,className:"".concat(I.a.status,"  ").concat(I.a.hover),children:r});var e=r.slice(0,50)+"...";return Object(s.jsx)("span",{onClick:u,className:"".concat(I.a.status," ").concat(I.a.hover),children:e})}return Object(s.jsx)("span",{onClick:u,className:"".concat(I.a.status," ").concat(I.a.dim," ").concat(I.a.hover),children:"set status..."})}if(t.linkID){if(r){if(r.length<50)return Object(s.jsx)("span",{className:I.a.status,children:r});var c=c.slice(0,50)+"...";return Object(s.jsx)("span",{className:I.a.status,children:c})}return Object(s.jsx)("span",{className:"".concat(I.a.status," ").concat(I.a.dim),children:"no status"})}}}))},E=function(t){if(t.isFetching)return Object(s.jsx)("div",{className:r.a.preloader,children:Object(s.jsx)(k.a,{})});return Object(s.jsxs)("div",{className:r.a.content,children:[Object(s.jsxs)("div",{className:r.a.avatar,children:[Object(s.jsxs)("div",{className:r.a.relative,children:[Object(s.jsx)("img",{className:r.a.photo,src:t.photo||g.a,alt:""}),Object(s.jsx)("br",{}),function(){if(!t.linkID||t.linkID==t.myID)return Object(s.jsxs)("label",{className:r.a.label,children:[Object(s.jsx)("input",{className:r.a.uploader,onChange:function(e){t.uploadPhoto(e.target.files[0])},accept:"image/x-png,image/jpeg",type:"file"}),"upload photo"]})}()]}),function(){if(!t.linkID||t.linkID==t.myID)return Object(s.jsx)(N.b,{to:"/edit",children:Object(s.jsx)("button",{className:r.a.button,children:"Edit"})})}()]}),Object(s.jsx)(T,{name:t.name,status:t.status,setNewStatus:t.setNewStatus,linkID:t.linkID,myID:t.myID,getStatus:t.getStatus,aboutMe:t.aboutMe,contacts:t.contacts,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription}),Object(s.jsx)(v,{postsData:t.postsData,postInputText:t.postInputText,addPost:t.addPost,updateText:t.updateText,login:t.login,deletePost:t.deletePost})]})},z=n(18),M=n(6),L=n(15),q=n(93),R=n(19);e.default=Object(L.d)(Object(o.b)((function(t){return{name:Object(q.e)(t),photo:Object(q.f)(t),postsData:Object(q.h)(t),myID:Object(R.d)(t),isFetching:Object(q.g)(t),status:Object(q.i)(t),isAuthorized:Object(R.b)(t),login:Object(R.e)(t),aboutMe:Object(q.a)(t),lookingForAJob:Object(q.d)(t),lookingForAJobDescription:Object(q.c)(t),contacts:Object(q.b)(t)}}),(function(t){return{setNewStatus:function(t){Object(z.g)(t)},getStatus:function(e){t(Object(z.f)(e))},setProfile:function(e){t(Object(z.h)(e))},addPost:function(e,n){t(Object(z.a)(e,n))},getProfile:function(e){t(Object(z.e)(e))},uploadPhoto:function(e){t(Object(z.i)(e))},deletePost:function(e){t(Object(z.c)(e))}}})),M.g)((function(t){var e=t.match.params.id||t.myID;return Object(a.useEffect)((function(){return t.getProfile(e)}),[]),Object(a.useEffect)((function(){return t.getProfile(e)}),[t.isAuthorized]),t.isAuthorized||t.match.params.id?Object(s.jsx)(E,Object(c.a)(Object(c.a)({},t),{},{linkID:t.match.params.id})):Object(s.jsx)(M.a,{to:"/auth"})}))},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var c=function(t){return t?t.includes("@")&&t.includes(".")?void 0:"Incorrect email":"Required"},s=function(t){return t?void 0:"Required"}},93:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"i",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return j}));var c=function(t){return t.profile.info.personInfo.name},s=function(t){return t.profile.info.personInfo.photo},a=function(t){return t.profile.isFetching},o=function(t){return t.profile.info.status},i=function(t){return t.profile.posts.postsData},r=function(t){return t.profile.info.personInfo.aboutMe},l=function(t){return t.profile.info.lookingForAJob},u=function(t){return t.profile.info.lookingForAJobDescription},j=function(t){return t.profile.info.contacts}},96:function(t,e,n){t.exports={info:"Info_info__1V-lO",name:"Info_name__3K6Rr",full:"Info_full__1WEPx",status:"Info_status__3d4Ns",input:"Info_input__3EnhC",hover:"Info_hover__12wJx",dim:"Info_dim__9y2JC"}},97:function(t,e,n){t.exports={description:"Description_description__1XXLp",dim:"Description_dim__VxhdC",item:"Description_item__2khgf",button:"Description_button__3yh1z"}}}]);
//# sourceMappingURL=4.a39f09c2.chunk.js.map