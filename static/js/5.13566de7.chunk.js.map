{"version":3,"sources":["components/Dialogs/SidebarMessage/SidebarMessage.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/InputMessage/InputMessage.jsx","components/Dialogs/Dialog/DialogMessage/SelfDialogMessage.jsx","components/Dialogs/Dialog/DialogMessage/DialogMessage.jsx","components/Dialogs/SidebarMessage/SidebarMessage.jsx","components/Dialogs/SidebarMessage/SidebarMessageContainer.js","state/selectors/dialogsSelector.js","components/Dialogs/InputMessage/InputMessageContainer.jsx","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Dialogs.jsx","components/HOC/WithAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","components/Dialogs/Dialog/DialogMessage/DialogMessage.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/InputMessage/InputMessage.module.css"],"names":["module","exports","InputMessageForm","props","onSubmit","data","sendMessage","messageText","selectedId","render","handleSubmit","component","name","className","styles","textarea","placeholder","autoFocus","send_button","InputMessage","input","SelfDialogMessage","message","self","style","photo","src","alt","activeClassName","active","to","content","DialogMessage","href","SidebarMessage","onClick","selectDialog","id","scrollDown","link","connect","dispatch","setTimeout","blockToScroll","document","querySelector","scrollTop","scrollHeight","getSelectedDialog","state","dialogs","selected","getSidebarMessages","createSelector","messages","map","index","getDialogMessages","dialog","dialogMessages","selectedID","InputMessageContainer","sendMessageAC","Dialog","Dialogs","sidebar","sidebarMessages","exact","path","match","params","wrapper","store","inputMessage","noContent","mapStateToProps","isAuthorized","getAuthorizeInfo","WithAuthRedirect","Component","compose","withRouter"],"mappings":"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","file":"static/js/5.13566de7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"SidebarMessage_message__24W9N\",\"name\":\"SidebarMessage_name__1kC6Z\",\"content\":\"SidebarMessage_content__1E4Ek\",\"active\":\"SidebarMessage_active__cXwKE\",\"link\":\"SidebarMessage_link__2Kbk5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialog_content__691tp\"};","import React from 'react';\r\nimport styles from './InputMessage.module.css';\r\nimport {Form, Field} from 'react-final-form';\r\n\r\n\r\nconst InputMessageForm = props => {\r\n  \r\n  const onSubmit = data => {\r\n    props.sendMessage(data.messageText,props.selectedId);\r\n    data.messageText = '';\r\n  };\r\n  \r\n  return <Form onSubmit={onSubmit} render={({handleSubmit}) => (\r\n    <form onSubmit={handleSubmit} >\r\n      <Field component='textarea' name='messageText' className={styles.textarea} placeholder=\"Say something...\"\r\n             autoFocus />\r\n      <button className={styles.send_button}>send</button>\r\n    </form>\r\n  )}/>;\r\n};\r\n\r\n\r\nconst InputMessage = (props) => {\r\n  return (\r\n    <div className={styles.input}>\r\n      <InputMessageForm selectedId={props.selectedId} sendMessage={props.sendMessage}/>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default InputMessage;","import React from 'react';\r\nimport styles from './DialogMessage.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './DialogMessage.module.css';\r\n\r\nconst SelfDialogMessage = (props) => {\r\n  return (\r\n    <div className={`${styles.message} ${styles.self}`}>\r\n      <div className={style.photo}>\r\n        <img src={props.photo} alt=\"\"/>\r\n      </div>\r\n      <div className={styles.name}>\r\n        <NavLink activeClassName={styles.active} className={styles.name} to=\"/profile\">\r\n          You\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.content}>\r\n        {props.message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelfDialogMessage;","import React from 'react';\r\nimport style from './DialogMessage.module.css';\r\n\r\nconst DialogMessage = (props) => {\r\n  return (\r\n    <div className={style.message}>\r\n      <div className={style.photo}>\r\n        <img src={props.photo} alt=\"\"/>\r\n      </div>\r\n      <div className={style.name}>\r\n        <a className={style.name} href=\"#\">\r\n          {props.name}\r\n        </a>\r\n      </div>\r\n      <div className={style.content}>\r\n        {props.message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default DialogMessage;\r\n","import React from 'react';\r\nimport styles from './SidebarMessage.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst SidebarMessage = (props) => {\r\n  const selectDialog = () =>{\r\n    props.selectDialog(props.id)\r\n    props.scrollDown()\r\n  }\r\n  \r\n  \r\n  return (\r\n    <NavLink onClick={selectDialog} activeClassName={styles.active} className={styles.link}\r\n             to={`/dialogs/id${props.id}`}>\r\n      <div className={styles.message}>\r\n        <div className={styles.name}>\r\n          {props.name}\r\n        </div>\r\n      </div>\r\n    </NavLink>\r\n  );\r\n};\r\n\r\nexport default SidebarMessage;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport SidebarMessage from './SidebarMessage';\r\nimport {selectDialog} from '../../../state/dialogsReducer';\r\n\r\nconst SidebarMessageContainer = (props) => {\r\n  return <SidebarMessage {...props}/>;\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    selectDialog(id) {\r\n      dispatch(selectDialog(id));\r\n    },\r\n    scrollDown(){\r\n      setTimeout(()=>{\r\n        const blockToScroll = document.querySelector('.scroll_down');\r\n        blockToScroll.scrollTop = blockToScroll.scrollHeight + 100;\r\n      },1)\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(SidebarMessageContainer);","import {createSelector} from 'reselect';\r\nimport SelfDialogMessage from '../../components/Dialogs/Dialog/DialogMessage/SelfDialogMessage';\r\nimport DialogMessage from '../../components/Dialogs/Dialog/DialogMessage/DialogMessage';\r\nimport SidebarMessageContainer from '../../components/Dialogs/SidebarMessage/SidebarMessageContainer';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport const getStateDialogMessages = state => state.dialogs.dialog.dialogMessages;\r\n\r\nexport const getInputMessage = state => state.dialogs.inputMessage;\r\n\r\nconst getMessages = state => state.dialogs.messages;\r\n\r\nexport const getSelectedDialog = state => state.dialogs.selected;\r\n\r\nexport const getSidebarMessages = createSelector(getMessages, (messages)=>{\r\n  return messages?.map((message,index) => {\r\n    return <SidebarMessageContainer key={index} name={message.name} id={message.id}/>;\r\n  });\r\n})\r\n\r\n\r\nexport const getDialogMessages = createSelector(getStateDialogMessages,getSelectedDialog,\r\n  (dialog,selectedID)=>{\r\n  if (!selectedID)\r\n    return <Redirect to='/dialogs'/>\r\n  return dialog['id'+selectedID].map((message,index) => {\r\n    if (message.name === 'Self') {\r\n      return <SelfDialogMessage key={index} photo={message.photo} message={message.content}/>;\r\n    } else {\r\n      return <DialogMessage key={index} photo={message.photo} name={message.name} message={message.content}/>;\r\n    }\r\n  });\r\n})","import React from 'react';\r\nimport {sendMessageAC} from '../../../state/dialogsReducer';\r\nimport InputMessage from './InputMessage';\r\nimport {connect} from 'react-redux';\r\nimport {getSelectedDialog} from '../../../state/selectors/dialogsSelector';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    selectedId:getSelectedDialog(state)\r\n  }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage(messageText,id) {\r\n      dispatch(sendMessageAC(messageText,id));\r\n    },\r\n  };\r\n};\r\n\r\nconst InputMessageContainer = connect(mapStateToProps, mapDispatchToProps)(InputMessage);\r\n\r\n\r\nexport default InputMessageContainer;","import React from 'react';\r\nimport style from './Dialog.module.css';\r\n\r\n\r\nconst Dialog = (props) => {\r\n  return (\r\n    <div className={`${style.content} scroll_down`}>\r\n      {props.dialogMessages}\r\n    </div>\r\n  );\r\n};\r\nexport default Dialog;","import React from 'react';\r\nimport styles from './Dialogs.module.css';\r\nimport InputMessageContainer from './InputMessage/InputMessageContainer';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport Dialog from './Dialog/Dialog';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n  const className = () => {\r\n    if (props.match.params.id) {\r\n      return styles.sidebar;\r\n    }\r\n    return `${styles.sidebar} ${styles.noId}`;\r\n  };\r\n  return (\r\n    <div className={styles.dialogs}>\r\n      <div className={styles.sidebar}>\r\n        {props.sidebarMessages}\r\n      </div>\r\n      <Switch>\r\n        <Route exact path={`/dialogs/${props.match.params.id}`}>\r\n          <div className={styles.wrapper}>\r\n            <Dialog dialogMessages={props.dialogMessages}/>\r\n            <InputMessageContainer store={props.store} inputMessage={props.inputMessage}/>\r\n          </div>\r\n        </Route>\r\n        <Route path='*'>\r\n          <div className={styles.noContent}>\r\n            {props.sidebarMessages ? <>Choose Dialog</> : <>You have no dialogs</>}\r\n          </div>\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {getAuthorizeInfo} from '../../state/selectors/authPageSelector';\r\n\r\nconst mapStateToProps = state =>{\r\n  return{\r\n    isAuthorized: getAuthorizeInfo(state),\r\n  }\r\n}\r\n\r\nconst WithAuthRedirect = (Component) => {\r\n  const RedirectComponent = props => {\r\n    if (!props.isAuthorized)\r\n      return <Redirect to='/auth'/>;\r\n    return <Component {...props}/>;\r\n  };\r\n  \r\n  \r\n  return connect(mapStateToProps)(RedirectComponent)\r\n};\r\n\r\nexport default WithAuthRedirect;\r\n","import React from 'react';\r\nimport Dialogs from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport WithAuthRedirect from '../HOC/WithAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport {getDialogMessages, getSidebarMessages} from '../../state/selectors/dialogsSelector';\r\nimport {withRouter} from 'react-router';\r\n\r\n\r\nconst DialogsContainer = (props) => {\r\n  return <Dialogs {...props}/>\r\n};\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    sidebarMessages: getSidebarMessages(state),\r\n    dialogMessages: getDialogMessages(state),\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    scrollDown() {\r\n      const blockToScroll = document.querySelector('.scroll_down');\r\n      blockToScroll.scrollTop = blockToScroll.scrollHeight + 100;\r\n    }\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withRouter,\r\n  WithAuthRedirect\r\n)(DialogsContainer)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"self\":\"DialogMessage_self__1jXL7\",\"content\":\"DialogMessage_content__1SeR5\",\"photo\":\"DialogMessage_photo__3Caz2\",\"name\":\"DialogMessage_name__6pmua\",\"message\":\"DialogMessage_message__3L2_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2XDdn\",\"sidebar\":\"Dialogs_sidebar__3WmjQ\",\"wrapper\":\"Dialogs_wrapper__3oej6\",\"noContent\":\"Dialogs_noContent__2n2T2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"InputMessage_input__2qw-p\",\"textarea\":\"InputMessage_textarea__1BQ3p\",\"send_button\":\"InputMessage_send_button__2lOME\"};"],"sourceRoot":""}