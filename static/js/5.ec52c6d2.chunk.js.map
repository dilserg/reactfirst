{"version":3,"sources":["components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Dialog/DialogContainer.jsx","components/Dialogs/InputMessage/InputMessage.jsx","components/Dialogs/InputMessage/InputMessageContainer.jsx","components/Dialogs/Dialogs.jsx","components/HOC/WithAuthRedirect.js","components/Dialogs/SidebarMessage/SidebarMessage.jsx","components/Dialogs/SidebarMessage/SidebarMessageContainer.jsx","components/Dialogs/Dialog/DialogMessage/SelfDialogMessage.jsx","components/Dialogs/Dialog/DialogMessage/DialogMessage.jsx","state/selectors/dialogsSelector.js","components/Dialogs/DialogsContainer.jsx","components/Dialogs/Dialog/DialogMessage/DialogMessage.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/InputMessage/InputMessage.module.css","components/Dialogs/SidebarMessage/SidebarMessage.module.css"],"names":["Dialog","props","className","style","content","dialogMessages","DialogContainer","InputMessageForm","onSubmit","data","sendMessage","messageText","render","handleSubmit","component","name","styles","textarea","placeholder","autoFocus","send_button","InputMessage","input","InputMessageContainer","connect","state","dispatch","sendMessageAC","Dialogs","dialogs","sidebar","sidebarMessages","wrapper","store","inputMessage","mapStateToProps","isAuthorized","getAuthorizeInfo","WithAuthRedirect","Component","to","SidebarMessage","onClick","scrollDown","activeClassName","active","link","id","message","SidebarMessageContainer","SelfDialogMessage","self","photo","src","alt","DialogMessage","href","getSidebarMessages","createSelector","messages","map","getDialogMessages","dialog","compose","blockToScroll","document","querySelector","scrollTop","scrollHeight","module","exports"],"mappings":"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","file":"static/js/5.ec52c6d2.chunk.js","sourcesContent":["import React from 'react';\r\nimport style from './Dialog.module.css';\r\n\r\n\r\nconst Dialog = (props) => {\r\n  return (\r\n    <div className={`${style.content} scroll_down`}>\r\n      {props.dialogMessages}\r\n    </div>\r\n  );\r\n};\r\nexport default Dialog;","import React from 'react';\r\nimport Dialog from './Dialog';\r\n\r\n\r\nconst DialogContainer = (props) => {\r\n  \r\n  return <Dialog dialogMessages={props.dialogMessages}/>;\r\n};\r\n\r\nexport default DialogContainer;","import React from 'react';\r\nimport styles from './InputMessage.module.css';\r\nimport {Form, Field} from 'react-final-form';\r\n\r\n\r\nconst InputMessageForm = props => {\r\n  \r\n  const onSubmit = data => {\r\n    props.sendMessage(data.messageText);\r\n    data.messageText = '';\r\n  };\r\n  \r\n  return <Form onSubmit={onSubmit} render={({handleSubmit}) => (\r\n    <form onSubmit={handleSubmit}>\r\n      <Field component='textarea' name='messageText' className={styles.textarea} placeholder=\"Say something...\"\r\n             autoFocus/>\r\n      <button className={styles.send_button}>send</button>\r\n    </form>\r\n  )}/>;\r\n};\r\n\r\n\r\nconst InputMessage = (props) => {\r\n  return (\r\n    <div className={styles.input}>\r\n      <InputMessageForm sendMessage={props.sendMessage}/>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default InputMessage;","import React from 'react';\r\nimport {sendMessageAC} from '../../../state/dialogsReducer';\r\nimport InputMessage from './InputMessage';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage(messageText) {\r\n      dispatch(sendMessageAC(messageText));\r\n    },\r\n  };\r\n};\r\n\r\nconst InputMessageContainer = connect(mapStateToProps, mapDispatchToProps)(InputMessage);\r\n\r\n\r\nexport default InputMessageContainer;","import React from 'react';\r\nimport styles from './Dialogs.module.css';\r\nimport DialogContainer from './Dialog/DialogContainer';\r\nimport InputMessageContainer from './InputMessage/InputMessageContainer';\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n  return (\r\n    <div className={styles.dialogs}>\r\n      <div className={styles.sidebar}>\r\n        {props.sidebarMessages}\r\n      </div>\r\n      <div className={styles.wrapper}>\r\n        <DialogContainer dialogMessages={props.dialogMessages}/>\r\n        <InputMessageContainer store={props.store} inputMessage={props.inputMessage}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {getAuthorizeInfo} from '../../state/selectors/authPageSelector';\r\n\r\nconst mapStateToProps = state =>{\r\n  return{\r\n    isAuthorized: getAuthorizeInfo(state),\r\n  }\r\n}\r\n\r\nconst WithAuthRedirect = (Component) => {\r\n  const RedirectComponent = props => {\r\n    if (!props.isAuthorized)\r\n      return <Redirect to='/auth'/>;\r\n    return <Component {...props}/>;\r\n  };\r\n  \r\n  \r\n  return connect(mapStateToProps)(RedirectComponent)\r\n};\r\n\r\nexport default WithAuthRedirect;\r\n","import React from 'react';\r\nimport styles from './SidebarMessage.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst SidebarMessage = (props) => {\r\n  return (\r\n    <NavLink onClick={props.scrollDown} activeClassName={styles.active} className={styles.link}\r\n             to={`/dialogs/id${props.id}`}>\r\n      <div className={styles.message}>\r\n        <div className={styles.name}>\r\n          {props.name}\r\n        </div>\r\n        <div className={styles.content}>\r\n          {props.content}\r\n        </div>\r\n      </div>\r\n    </NavLink>\r\n  );\r\n};\r\n\r\nexport default SidebarMessage;","import React from 'react';\r\nimport SidebarMessage from './SidebarMessage';\r\n\r\n\r\nconst SidebarMessageContainer = (props) => {\r\n  return <SidebarMessage name={props.name} content={props.content} id={props.id}/>;\r\n};\r\n\r\nexport default SidebarMessageContainer;","import React from 'react';\r\nimport styles from './DialogMessage.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './DialogMessage.module.css';\r\n\r\nconst SelfDialogMessage = (props) => {\r\n  return (\r\n    <div className={`${styles.message} ${styles.self}`}>\r\n      <div className={style.photo}>\r\n        <img src={props.photo} alt=\"\"/>\r\n      </div>\r\n      <div className={styles.name}>\r\n        <NavLink activeClassName={styles.active} className={styles.name} to=\"/profile\">\r\n          You\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.content}>\r\n        {props.message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelfDialogMessage;","import React from 'react';\r\nimport style from './DialogMessage.module.css';\r\n\r\nconst DialogMessage = (props) => {\r\n  return (\r\n    <div className={style.message}>\r\n      <div className={style.photo}>\r\n        <img src={props.photo} alt=\"\"/>\r\n      </div>\r\n      <div className={style.name}>\r\n        <a className={style.name} href=\"#\">\r\n          {props.name}\r\n        </a>\r\n      </div>\r\n      <div className={style.content}>\r\n        {props.message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default DialogMessage;\r\n","import {createSelector} from 'reselect';\r\nimport SidebarMessageContainer from '../../components/Dialogs/SidebarMessage/SidebarMessageContainer';\r\nimport SelfDialogMessage from '../../components/Dialogs/Dialog/DialogMessage/SelfDialogMessage';\r\nimport DialogMessage from '../../components/Dialogs/Dialog/DialogMessage/DialogMessage';\r\n\r\nexport const getStateDialogMessages = state => state.dialogs.dialog.dialogMessages;\r\n\r\nexport const getInputMessage = state => state.dialogs.inputMessage;\r\n\r\nconst getMessages = state => state.dialogs.messages;\r\n\r\nexport const getSidebarMessages = createSelector(getMessages, (messages)=>{\r\n  return messages.map((message) => {\r\n    return <SidebarMessageContainer  name={message.name} content={message.content} id={message.id}/>;\r\n  });\r\n})\r\n\r\n\r\nexport const getDialogMessages = createSelector(getStateDialogMessages, (dialog)=>{\r\n  return dialog.map((message) => {\r\n    if (message.name === 'Self') {\r\n      return <SelfDialogMessage photo={message.photo} message={message.content}/>;\r\n    } else {\r\n      return <DialogMessage photo={message.photo} name={message.name} message={message.content}/>;\r\n    }\r\n  });\r\n})","import React from 'react';\r\nimport Dialogs from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport WithAuthRedirect from '../HOC/WithAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport {getDialogMessages, getSidebarMessages} from '../../state/selectors/dialogsSelector';\r\n\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    sidebarMessages: getSidebarMessages(state),\r\n    dialogMessages: getDialogMessages(state),\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    scrollDown() {\r\n      const blockToScroll = document.querySelector('.scroll_down');\r\n      blockToScroll.scrollTop = blockToScroll.scrollHeight + 100;\r\n    }\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect\r\n)(Dialogs)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"self\":\"DialogMessage_self__1jXL7\",\"content\":\"DialogMessage_content__1SeR5\",\"photo\":\"DialogMessage_photo__3Caz2\",\"name\":\"DialogMessage_name__6pmua\",\"message\":\"DialogMessage_message__3L2_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2XDdn\",\"sidebar\":\"Dialogs_sidebar__3WmjQ\",\"wrapper\":\"Dialogs_wrapper__3oej6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialog_content__691tp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"InputMessage_input__2qw-p\",\"textarea\":\"InputMessage_textarea__1BQ3p\",\"send_button\":\"InputMessage_send_button__2lOME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"SidebarMessage_message__24W9N\",\"name\":\"SidebarMessage_name__1kC6Z\",\"content\":\"SidebarMessage_content__1E4Ek\",\"active\":\"SidebarMessage_active__cXwKE\",\"link\":\"SidebarMessage_link__2Kbk5\"};"],"sourceRoot":""}