{"version":3,"sources":["components/AuthPage/AuthPage.module.css","components/forms/LoginInput.module.css","components/forms/LoginInput.js","components/AuthPage/AuthPage.jsx","components/AuthPage/AuthPageContainer.jsx","components/forms/validators.js","images/warning.svg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["module","exports","LoginInput","input","meta","props","className","error","touched","hasError","styles","image","src","warning","undefined","LoginForm","onSubmit","data","logIn","render","handleSubmit","form","login","validate","emailChecker","component","name","placeholder","type","password","required","button","checkBox","AuthPage","warningBlock","alt","isFetching","preloader","Preloader","mapDispatchToProps","getProfile","connect","state","isAuthorized","getAuthorizeInfo","id","getId","getAuthFetching","getErrorInfo","useEffect","to","value","includes","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"mappings":"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","file":"static/js/7.8a63cf08.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AuthPage_form__tFsUp\",\"login\":\"AuthPage_login__1hhS9\",\"password\":\"AuthPage_password__3Wf72\",\"checkBox\":\"AuthPage_checkBox__2k4Jg\",\"button\":\"AuthPage_button__3ACkQ\",\"preloader\":\"AuthPage_preloader__3MQ1o\",\"warning\":\"AuthPage_warning__2pxpR\",\"image\":\"AuthPage_image__2eLP1\",\"warningBlock\":\"AuthPage_warningBlock__3PSiv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"LoginInput_input__1fKD0\",\"warning\":\"LoginInput_warning__2WVQ2\",\"image\":\"LoginInput_image__TEkR3\"};","import React from 'react';\r\nimport styles from './LoginInput.module.css';\r\nimport warning from '../../images/warning.svg';\r\n\r\nconst LoginInput = ({input, meta, ...props}) => {\r\n  const className = () => {\r\n    if (meta.error && meta.touched)\r\n      return styles.input;\r\n    else if (!meta.touched && props.hasError)\r\n      return styles.input;\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      <input className={className()} {...input} {...props}/>\r\n      {meta.touched && meta.error\r\n        ? <><img className={styles.image} src={warning}/><span className={styles.warning}>{meta.error}</span></>\r\n        : undefined}\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nexport default LoginInput;","import React from 'react';\r\nimport styles from './AuthPage.module.css';\r\nimport {Field, Form} from 'react-final-form';\r\nimport LoginInput from '../forms/LoginInput';\r\nimport {emailChecker, required} from '../forms/validators';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nfunction AuthPage(props) {\r\n  \r\n  const warning = () => {\r\n    if (props.hasError) {\r\n      return <div className={styles.warningBlock}>\r\n        <img alt='' className={styles.image} src={warning}/>\r\n        <span className={styles.warning}>wrong email or password</span>\r\n      </div>;\r\n    }\r\n  };\r\n  return <>\r\n    {warning()}\r\n    {props.isFetching\r\n      ? <div className={styles.preloader}><Preloader/></div>\r\n      : <LoginForm hasError={props.hasError} logIn={props.logIn}/>}\r\n  \r\n  </>;\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n  \r\n  const onSubmit = (data) => {\r\n    props.logIn(data);\r\n  };\r\n  return (\r\n    <Form onSubmit={onSubmit}\r\n          render={({handleSubmit}) => (\r\n            <form onSubmit={handleSubmit} className={styles.form}>\r\n              <div className={styles.login}>\r\n                <Field hasError={props.hasError} validate={emailChecker} component={LoginInput} name='email'\r\n                       placeholder='Email' type=\"text\"/>\r\n              </div>\r\n              <div className={styles.password}>\r\n                <Field hasError={props.hasError} validate={required} component={LoginInput} name='password'\r\n                       placeholder='Password' type=\"password\"/>\r\n              </div>\r\n              <button className={styles.button}>Log in</button>\r\n              <div className={styles.checkBox}><Field name='rememberMe' component='input' type=\"checkbox\"/>remember me\r\n              </div>\r\n            </form>\r\n          )}\r\n    />\r\n  \r\n  );\r\n};\r\n\r\n\r\nexport default AuthPage;","import React, {useEffect} from 'react';\r\nimport AuthPage from './AuthPage';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {getProfile} from '../../state/profileReducer';\r\nimport {logIn} from '../../state/authReducer';\r\nimport {getAuthFetching, getAuthorizeInfo, getErrorInfo, getId} from '../../state/selectors/authPageSelector';\r\n\r\n\r\nfunction AuthPageContainer(props) {\r\n  \r\n  useEffect(()=>{\r\n    props.getProfile(props.id)\r\n  },[props.id])\r\n  \r\n  if (props.isAuthorized)\r\n    return <Redirect to='/profile'/>;\r\n  return <AuthPage hasError={props.hasError} isFetching={props.isFetching} logIn={props.logIn}/>;\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getProfile,\r\n    logIn\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthorized: getAuthorizeInfo(state),\r\n    id: getId(state),\r\n    isFetching: getAuthFetching(state),\r\n    hasError:getErrorInfo(state)\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(AuthPageContainer);","export const emailChecker = value => {\r\n  if (value) {\r\n    if (value.includes('@') && value.includes('.'))\r\n      return undefined;\r\n    else\r\n      return 'Incorrect email';\r\n  }else {\r\n    return 'Required'\r\n  }\r\n};\r\n\r\nexport const required = value => value ? undefined : 'Required'\r\n\r\nexport const composeValidators = (...validators) => value => validators.reduce((error, validator) =>\r\n  error || validator(value), undefined);","export default __webpack_public_path__ + \"static/media/warning.59a8d2ea.svg\";","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}